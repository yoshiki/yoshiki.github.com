---
layout: post
title: HTTP::MobileAgentのプラグイン機構
mt_id: 694
date: 2006-07-21 01:11:58.000000000 +09:00
author: clouder
category: Perl
---
HTTP::MobileAgentのプラグイン機構を付けるとしたら、どんな風なのがベストなんだろうかと考えてみた。
多分プラグインとしてやりたいこととしては大枠で以下の2つだろう。

<ul>
<li>今の実装では取得できない値を取得するための新しいメソッドやアクセサを追加する</li>
<li>User Agentの解析にある処理を挟む</li>
</ul>

で、これらをやるためにはどのようなプラグイン機構がいいのだろうか。

<ol>
<li>Plaggerとかみたいなhookを各所に設ける</li>
<li>Catalystみたいに NEXT を使って連鎖させていく</li>
<li>Class::DBI::Pluginみたいにimportでやや強引に追加できるようにする</li>
</ol>

1は必要かもしれないけど、あんまり需要がなさそうな気もする…。
2はいろんなプラグインがでてくるとわけわかめになりそう
3があれば、とりあえずしばらくはもちそうな気もする。

さてどうしようか。 
