---
layout: post
title: sttyのフロー制御でハマりました
mt_id: 661
date: 2006-04-10 19:15:34.000000000 +09:00
author: clouder
category: Unix
---
Unix系のOSをいじっていて、突然キー入力ができなくなって ^q で元の入力状態に戻るというような現象にみまわれたことはないだろうか。そんな現象になるのはたいていフロー制御の stop モードになっていることが原因らしい。気付かない間に ^s を押してフロー制御の stop モードになっているのだろうと思う。

この現象になっている端末で emacs を使おうものなら、^x^sで保存ができなくなってしまうのだ。コワー。(まぁその場合でも^xsで一応保存はできるのだが)

ちなみに ^sが stop モードに割当てられているかどうかは、コマンドラインで

<pre class="command">&#37; stty -a</pre>

とやると確認できると思う。ちなみに ^q は start に設定されているはずである。^s で stop、^q で start とフロー制御をやるらしい。でもこんな状態になっていると emacs が満足に使えないので、自分は苦肉の策で、

<pre class="command">&#37; stty stop ''</pre>

として対応しました。これで ^s を押しても stop モードにはなりません。
でもこれって正しい解決法なんでしょうか…。

教えてエラい人！
 
