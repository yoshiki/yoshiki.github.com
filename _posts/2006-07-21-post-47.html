---
layout: post
title: 個人サーバでバックアップを取るべき項目＠覚え書き
mt_id: 692
date: 2006-07-21 00:54:00.000000000 +09:00
author: clouder
category: Hardware
---
先週の木曜あたりに、突然自宅サーバのclouder.jpが落ちました。
会社でそれを気付いたのですが、どうすることもできず。

それで、家に帰ってからディスプレイを見てみたらなんかHDDがおかしいっぽい。ということで、とりあえずfsckをかけてみたのですがエラーでまくりんぐでかなりの数のファイルが消失したっぽいメッセージがでて、もう、あせりまくり。

結局別パーティションを新規に作成してそちらにOSを入れて、元の/だったところをマウントして、なんとか救出できるファイルだけをせっせと救出したあとに、そのパーティションを綺麗にしてから再度OSをインストールするということでなんとか現在復活しています。

いやーバックアップを1つもしてない恐怖を痛感した。今度からちゃんとバックアップを取ろうと思います。
今回バックアップを取るべきだったなと思うものは以下。

<ul>
<li>MySQLのデータ</li>
<li>各種Webサーバ(apache, lighttpd)のconf</li>
<li>ログ解析のデータ</li>
<li>Wikiのデータ(画像など)</li>
<li>MTのデータ(画像など)</li>
<li>/serviceの各設定</li>
<li>subversionのリポジトリ</li>
<li>tracのデータ</li>
<li>ホームディレクトリ</li>
<li>qmailの設定</li>
</ul>

運良く今回のトラブルでは、上記すべてがサルベージできたのが不幸中の幸いでした…ふぅ。。。
まだバックアップをしていないよーって人がいたら、絶対バックアップしておいた方がいいですよ！

ほんとほんと。
 
